{% extends "base.html" %}

{% block title %}Edit Page{% endblock %}

{% block content %}
    <h1>Edit Page - {{ tab_slug }}</h1>

    <!-- âœ… å†…å®¹å—åˆ—è¡¨ -->
    {% for block in blocks %}
        <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px;">
            <h3>{{ block.title }}</h3>
            <p>{{ block.content }}</p>
            {% if block.image_urls %}
                <p>å›¾ç‰‡é“¾æ¥: {{ block.image_urls }}</p>
            {% endif %}
            <a href="/admin/edit-page/{{ tab_slug }}/delete/{{ block.id }}" onclick="return confirm('ç¡®è®¤åˆ é™¤ï¼Ÿ')">ğŸ—‘ï¸ åˆ é™¤</a>
        </div>
    {% else %}
        <p>è¿˜æ²¡æœ‰å†…å®¹å—ã€‚</p>
    {% endfor %}

    <hr>

    <!-- âœ… æ–°å¢å†…å®¹å—è¡¨å• -->
    <h2>æ–°å¢å†…å®¹å—</h2>
    <form method="post" action="/admin/edit-page/{{ tab_slug }}/add">
        <label>ç±»å‹ (block_type):</label><br>
        <input type="text" name="block_type" required><br>

        <label>æ ‡é¢˜ (title):</label><br>
        <input type="text" name="title"><br>

        <label>å†…å®¹ (content):</label><br>
        <textarea name="content"></textarea><br>

        <label>å›¾ç‰‡é“¾æ¥ (image_urls):</label><br>
        <input type="text" name="image_urls"><br>

        <label>æ’åºé¡ºåº (sort_order):</label><br>
        <input type="number" name="sort_order" value="0"><br><br>

        <button type="submit">æ·»åŠ å†…å®¹å—</button>
    </form>
    {% endblock %}
